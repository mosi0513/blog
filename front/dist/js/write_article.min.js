function Article(){}Article.prototype.initUEditor=function(){window.ue=UE.getEditor("editor",{initialFrameHeight:400,initialFrameWidth:"auto",serverUrl:"/ueditor/upload/"})},Article.prototype.listenUploadFielEvent=function(){var n=$("#thumbnail-btn");n.change(function(){var t=n[0].files[0],e=new FormData;e.append("file",t),msajax.post({url:"/cms/upload_file/",data:e,processData:!1,contentType:!1,success:function(t){if(200===t.code){var e=t.data.url;$("#thumbnail-form").val(e)}}})})},Article.prototype.listenSubmitEvent=function(){$("#submit-btn").click(function(t){t.preventDefault();var e=$(this).attr("data-news-id");console.log("------pk是-------"),console.log(e),console.log("--------------");var n=$("input[name='title']").val();console.log(n);var i=$("select[name='category']").val();console.log(i);var o=$("input[name='desc']").val(),a=$("input[name='thumbnail']").val(),l=$("input[name='look_quantity']").val(),c=window.ue.getContent();console.log(c);var r="";r=e?"/cms/edit_list/":"/cms/write_news/",msajax.post({url:r,data:{title:n,category:i,desc:o,thumbnail:a,look_quantity:l,content:c,pk:e},success:function(t){200===t.code&&msalert.alertSuccess("恭喜！新闻发表成功！",function(){window.location.reload()})}})})},Article.prototype.run=function(){var t=this;t.listenUploadFielEvent(),t.initUEditor(),t.listenSubmitEvent()},$(function(){(new Article).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndyaXRlX2FydGljbGUuanMiXSwibmFtZXMiOlsiQXJ0aWNsZSIsInByb3RvdHlwZSIsImluaXRVRWRpdG9yIiwid2luZG93IiwidWUiLCJVRSIsImdldEVkaXRvciIsImluaXRpYWxGcmFtZUhlaWdodCIsImluaXRpYWxGcmFtZVdpZHRoIiwic2VydmVyVXJsIiwibGlzdGVuVXBsb2FkRmllbEV2ZW50IiwidXBsb2FkQnRuIiwiJCIsImNoYW5nZSIsImZpbGUiLCJmaWxlcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJtc2FqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJzdWNjZXNzIiwicmVzdWx0IiwidmFsIiwibGlzdGVuU3VibWl0RXZlbnQiLCJjbGljayIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJwayIsInRoaXMiLCJhdHRyIiwiY29uc29sZSIsImxvZyIsInRpdGxlIiwiY2F0ZWdvcnkiLCJkZXNjIiwidGh1bWJuYWlsIiwibG9va19xdWFudGl0eSIsImNvbnRlbnQiLCJnZXRDb250ZW50IiwibXNhbGVydCIsImFsZXJ0U3VjY2VzcyIsImxvY2F0aW9uIiwicmVsb2FkIiwicnVuIiwic2VsZiJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsV0FLVEEsUUFBUUMsVUFBVUMsWUFBYyxXQUM1QkMsT0FBT0MsR0FBS0MsR0FBR0MsVUFBVSxTQUFTLENBQzlCQyxtQkFBc0IsSUFDdEJDLGtCQUFxQixPQUNyQkMsVUFBYSxzQkFPckJULFFBQVFDLFVBQVVTLHNCQUF3QixXQUN0QyxJQUFJQyxFQUFZQyxFQUFFLGtCQUNsQkQsRUFBVUUsT0FBTyxXQUNiLElBQUlDLEVBQU9ILEVBQVUsR0FBR0ksTUFBTSxHQUMxQkMsRUFBVyxJQUFJQyxTQUNuQkQsRUFBU0UsT0FBTyxPQUFPSixHQUN2QkssT0FBT0MsS0FBSyxDQUNSQyxJQUFPLG9CQUNQQyxLQUFRTixFQUNSTyxhQUFlLEVBQ2ZDLGFBQWUsRUFDZkMsUUFBVyxTQUFVQyxHQUNqQixHQUFzQixNQUFuQkEsRUFBYSxLQUFVLENBQ3RCLElBQUlMLEVBQU1LLEVBQWEsS0FBTyxJQUNUZCxFQUFFLG1CQUNSZSxJQUFJTixVQVV2Q3JCLFFBQVFDLFVBQVUyQixrQkFBb0IsV0FDdkJoQixFQUFFLGVBRVJpQixNQUFNLFNBQVVDLEdBRW5CQSxFQUFNQyxpQkFDTixJQUNJQyxFQURNcEIsRUFBRXFCLE1BQ0NDLEtBQUssZ0JBQ2xCQyxRQUFRQyxJQUFJLG9CQUNWRCxRQUFRQyxJQUFJSixHQUNaRyxRQUFRQyxJQUFJLGtCQUNkLElBQUlDLEVBQVF6QixFQUFFLHVCQUF1QmUsTUFDckNRLFFBQVFDLElBQUlDLEdBQ1osSUFBSUMsRUFBVzFCLEVBQUUsMkJBQTJCZSxNQUM1Q1EsUUFBUUMsSUFBSUUsR0FDWixJQUFJQyxFQUFPM0IsRUFBRSxzQkFBc0JlLE1BQy9CYSxFQUFZNUIsRUFBRSwyQkFBMkJlLE1BQ3pDYyxFQUFpQjdCLEVBQUUsK0JBQStCZSxNQUNsRGUsRUFBVXZDLE9BQU9DLEdBQUd1QyxhQUN4QlIsUUFBUUMsSUFBSU0sR0FFVixJQUFJckIsRUFBTSxHQUVOQSxFQUREVyxFQUNPLGtCQUVBLG1CQUdaYixPQUFPQyxLQUFLLENBQ1JDLElBQU1BLEVBQ05DLEtBQU8sQ0FDSGUsTUFBUUEsRUFDUkMsU0FBV0EsRUFDWEMsS0FBT0EsRUFDUEMsVUFBWUEsRUFDWkMsY0FBZ0JBLEVBQ2hCQyxRQUFVQSxFQUNWVixHQUFLQSxHQUVMUCxRQUFXLFNBQVVDLEdBQ0wsTUFBbkJBLEVBQWEsTUFDWmtCLFFBQVFDLGFBQWEsYUFBYSxXQUM5QjFDLE9BQU8yQyxTQUFTQyxpQkFhaEMvQyxRQUFRQyxVQUFVK0MsSUFBTSxXQUNwQixJQUFJQyxFQUFPaEIsS0FDVmdCLEVBQUt2Qyx3QkFDTHVDLEVBQUsvQyxjQUNMK0MsRUFBS3JCLHFCQUlWaEIsRUFBRSxZQUNnQixJQUFJWixTQUNWZ0QiLCJmaWxlIjoid3JpdGVfYXJ0aWNsZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBBcnRpY2xlKCkge1xyXG59XHJcblxyXG5cclxuLy8g5Yid5aeL5YyW5a+M5paH5pys57yW6L6R5ZmoXHJcbkFydGljbGUucHJvdG90eXBlLmluaXRVRWRpdG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgd2luZG93LnVlID0gVUUuZ2V0RWRpdG9yKCdlZGl0b3InLHtcclxuICAgICAgICAnaW5pdGlhbEZyYW1lSGVpZ2h0JzogNDAwLFxyXG4gICAgICAgICdpbml0aWFsRnJhbWVXaWR0aCc6ICdhdXRvJyxcclxuICAgICAgICAnc2VydmVyVXJsJzogJy91ZWRpdG9yL3VwbG9hZC8nXHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG5cclxuLy8g5LiK5Lyg5paH5Lu277yM5Y+R6YCB6K+35rGC57uZ5ZCO56uv77yM5aaC5p6c5Y+R6YCB5oiQ5Yqf77yM5ZCO56uv6L+U5Zue5paH5Lu255qEdXJs5Zyw5Z2A77yM5aGr5YaZ5Yiw6L6T5YWl5qGGXHJcbkFydGljbGUucHJvdG90eXBlLmxpc3RlblVwbG9hZEZpZWxFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB1cGxvYWRCdG4gPSAkKCcjdGh1bWJuYWlsLWJ0bicpO1xyXG4gICAgdXBsb2FkQnRuLmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGZpbGUgPSB1cGxvYWRCdG5bMF0uZmlsZXNbMF07XHJcbiAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJyxmaWxlKTtcclxuICAgICAgICBtc2FqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL2Ntcy91cGxvYWRfZmlsZS8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IGZvcm1EYXRhLFxyXG4gICAgICAgICAgICAncHJvY2Vzc0RhdGEnOiBmYWxzZSxcclxuICAgICAgICAgICAgJ2NvbnRlbnRUeXBlJzogZmFsc2UsXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IHJlc3VsdFsnZGF0YSddWyd1cmwnXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGh1bWJuYWlsSW5wdXQgPSAkKFwiI3RodW1ibmFpbC1mb3JtXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbElucHV0LnZhbCh1cmwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG5cclxuLy8g5Y+R6YCB5Y+R5biD5paH56ug6K+35rGCXHJcbkFydGljbGUucHJvdG90eXBlLmxpc3RlblN1Ym1pdEV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICB2YXIgc3VibWl0ID0gJCgnI3N1Ym1pdC1idG4nKTtcclxuICAvLyDmj5DkuqTmjInpkq7nmoTngrnlh7vkuovku7ZcclxuICBzdWJtaXQuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgIC8vIOiuvue9ruaIkOm7mOiupOeahOivt+axguaWueazlVxyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgYnRuID0gJCh0aGlzKTtcclxuICAgICAgdmFyIHBrID0gYnRuLmF0dHIoJ2RhdGEtbmV3cy1pZCcpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIi0tLS0tLXBr5pivLS0tLS0tLVwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhwayk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS0tLVwiKTtcclxuICAgICAgdmFyIHRpdGxlID0gJChcImlucHV0W25hbWU9J3RpdGxlJ11cIikudmFsKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHRpdGxlKTtcclxuICAgICAgdmFyIGNhdGVnb3J5ID0gJChcInNlbGVjdFtuYW1lPSdjYXRlZ29yeSddXCIpLnZhbCgpO1xyXG4gICAgICBjb25zb2xlLmxvZyhjYXRlZ29yeSk7XHJcbiAgICAgIHZhciBkZXNjID0gJChcImlucHV0W25hbWU9J2Rlc2MnXVwiKS52YWwoKTtcclxuICAgICAgdmFyIHRodW1ibmFpbCA9ICQoXCJpbnB1dFtuYW1lPSd0aHVtYm5haWwnXVwiKS52YWwoKTtcclxuICAgICAgdmFyIGxvb2tfcXVhbnRpdHkgID0gJChcImlucHV0W25hbWU9J2xvb2tfcXVhbnRpdHknXVwiKS52YWwoKTtcclxuICAgICAgdmFyIGNvbnRlbnQgPSB3aW5kb3cudWUuZ2V0Q29udGVudCgpO1xyXG4gICAgICBjb25zb2xlLmxvZyhjb250ZW50KTtcclxuXHJcbiAgICAgICAgdmFyIHVybCA9ICcnO1xyXG4gICAgICAgIGlmKHBrKXtcclxuICAgICAgICAgICAgdXJsID0gJy9jbXMvZWRpdF9saXN0Lyc7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHVybCA9ICcvY21zL3dyaXRlX25ld3MvJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICBtc2FqYXgucG9zdCh7XHJcbiAgICAgICAgICAndXJsJzp1cmwsXHJcbiAgICAgICAgICAnZGF0YSc6e1xyXG4gICAgICAgICAgICAgICd0aXRsZSc6dGl0bGUsXHJcbiAgICAgICAgICAgICAgJ2NhdGVnb3J5JzpjYXRlZ29yeSxcclxuICAgICAgICAgICAgICAnZGVzYyc6ZGVzYyxcclxuICAgICAgICAgICAgICAndGh1bWJuYWlsJzp0aHVtYm5haWwsXHJcbiAgICAgICAgICAgICAgJ2xvb2tfcXVhbnRpdHknOmxvb2tfcXVhbnRpdHksXHJcbiAgICAgICAgICAgICAgJ2NvbnRlbnQnOmNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgJ3BrJzpwa1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgbXNhbGVydC5hbGVydFN1Y2Nlc3MoJ+aBreWWnO+8geaWsOmXu+WPkeihqOaIkOWKn++8gScsZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICB9KVxyXG5cclxuICB9KTtcclxufTtcclxuXHJcblxyXG5cclxuXHJcbkFydGljbGUucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICBzZWxmLmxpc3RlblVwbG9hZEZpZWxFdmVudCgpO1xyXG4gICAgIHNlbGYuaW5pdFVFZGl0b3IoKTtcclxuICAgICBzZWxmLmxpc3RlblN1Ym1pdEV2ZW50KCk7XHJcbn07XHJcblxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYXJ0aWNsZSA9IG5ldyBBcnRpY2xlKCk7XHJcbiAgICBhcnRpY2xlLnJ1bigpO1xyXG59KTsiXX0=
